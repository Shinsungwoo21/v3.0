📋 프로젝트 기간 동안 진행한 작업 목록

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Terraform 인프라 구축

[서울 리전 - Main: ap-northeast-2]
• VPC 및 네트워크 구성 (CIDR 10.100.0.0/16, Public/Private Subnet 각 2개)
• EC2 Auto Scaling Group 구성 (Web/App 분리)
• Application Load Balancer (ALB) 구성
• Network Load Balancer (NLB) 구성 - 내부 통신용
• Security Groups 구성
• Launch Template 및 User Data 스크립트 작성
• IAM Role 및 Instance Profile 설정
• VPC Endpoint (DynamoDB Gateway) 구성
• NAT Gateway 구성
• Route53 Health Check 및 Failover 라우팅 (PRIMARY)

[도쿄 리전 - DR: ap-northeast-1]
• VPC 및 네트워크 구성 (CIDR 10.1.0.0/16)
• EC2 ASG, ALB, NLB 구성
• Security Groups 구성
• Launch Template 및 User Data 스크립트 작성
• IAM Role 설정
• VPC Endpoint 구성
• Route53 Failover 라우팅 (SECONDARY)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2. DynamoDB 연동

• 4개 테이블 설계 (performances, reservations, schedules, venues)
• Global Tables 구성 (서울 ↔ 도쿄 실시간 복제)
• GSI 설정 (userId-index, holdingId-index, reservationId-index, performanceId-index)
• TTL 설정 (HOLDING 10분, CANCELLED 7일, DR_RECOVERED 30분)
• 데이터 마이그레이션 스크립트 38개 작성

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

3. Bedrock AI 챗봇

• Primary/Fallback 모델 구성 (Claude Haiku 4.5 / Nova Lite)
• Cross-Region Inference 적용 (global.*, apac.* 프로파일)
• Tool Use 구현 (9개 도구: get_performances, hold_seats, cancel_hold 등)
• Fallback 전략 구현
• 스트리밍 응답 처리 (ConverseStream API)
• 대화 흐름 9단계 구현

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

4. MegaTicket 서비스 개발

• Backend API 구현 (Next.js App Router, Port 3001)
• Frontend UI 구현 (Next.js + TailwindCSS, Port 3000)
• 챗봇 인터페이스 (스트리밍)
• 좌석 배치도 컴포넌트
• 마이페이지, 리전 표시 배지

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

5. DR 관련

• DR 상태 관리 로직 구현 (HOLDING → DR_RECOVERED → DR_RESERVED)
• 30분 유예기간 (DR_GRACE_PERIOD_MINUTES=30)
• User Data 환경변수 주입 방식 구현

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

6. Step Function NLB 에러 분석

• Launch Template 버전 불일치 문제 분석
• 해결 방안 및 검증 스크립트 제공

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

7. 모니터링 (CloudWatch)

• EMF (Embedded Metric Format) 기반 메트릭 수집 구현
• 커스텀 메트릭 설계 (Latency, Tokens, FallbackCount)
• 로그 분석 쿼리 작성 (Logs Insights)

⚠️ 현재 주석 처리됨 (테스트 비용 절감):
  - CloudWatch EMF 메트릭 비활성화
  - Fallback EMF 메트릭 비활성화
  - 프롬프트 구성 로그 비활성화
  → 프로덕션 배포 시 주석 해제 (필요시)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

8. 문서화

• Bedrock 기술 가이드
• DR 트러블슈팅 가이드
• DynamoDB 스키마 문서
• 챗봇 프롬프트 가이드
• Golden AMI 배포 가이드
• CloudWatch 모니터링 가이드
• 프로젝트 구조 문서
• DR 로컬 테스트 가이드
• Terraform 테스트 가이드
• GSI 설정 가이드

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━